{% extends "base.html" %}

{% block content %}

<!--Form to allow user to input new book details to be added to database-->
    <div class="row">
        <form class="col s12" method="POST" action="{{ url_for('add_book') }}">
            <div class="card-panel green darken-3">
                <h3 class="center-align tagline">Add a Book</h3>
                <h5 class="center-align tagline">Fill out the form below to add the book to the library</h5>
                <br>
            <!--Book Name-->
                <div class="row">
                    <div class="input-field col s12 m10 offset-m1 l8 offset-l2">
                        <textarea id="book_name" name="book_name" type="text" pattern="^[a-zA-Z0-9]{2,50}$" class="validate"
                        oninvalid="this.setCustomValidity('Please enter a book name between 2 and 50 characters. Only alphanumeric characters are accepted')"
                        oninput="this.setCustomValidity('')" minlength="2" maxlength="50" required></textarea>
                        <label for="book_name">Book Name</label>
                    </div>
                </div>
            <!--Author Name-->
                <div class="row">   
                    <div class="input-field col s12 m10 offset-m1 l8 offset-l2">
                        <textarea id="book_author" name="book_author" type="text" pattern="^[a-zA-Z0-9]{2,50}$" class="validate"
                        oninvalid="this.setCustomValidity('Please enter a book name between 2 and 50 characters. Only alphanumeric characters are accepted')"
                        oninput="this.setCustomValidity('')" minlength="2" maxlength="50" required></textarea>
                        <label for="book_author">Author</label>
                    </div>
                </div>
            <!--ASIN-->
                <div class="row">
                    <div class="input-field col s12 m10 offset-m1 l8 offset-l2">
                        <input id="book_asin" name="book_asin" type="text" pattern="^[a-zA-Z0-9]{9,12}$" class="validate"
                        oninvalid="this.setCustomValidity('Enter ASIN. Only alphanumeric characters are accepted')"
                        oninput="this.setCustomValidity('')" minlength="9" maxlength="12" required>
                        <label for="book_asin">ISBN or ASIN number</label>
                        <span class="helper-text" data-error="wrong" data-success="right">ASIN/ ISBN can be found in the Product Details section on the Amazon store page for the Book.</span>
                    </div>
                </div>
            <!--Book Genre-->
                <div class="row">
                    <div class="input-field col s12 m10 offset-m1 l8 offset-l2">
                        <select id="book_genre" name="book_genre" class="validate" required>
                            <option value="" disabled selected>Select Genre</option>
                            <option value="Crime">Crime</option>
                            <option value="Thriller">Thriller</option>
                            <option value="Fantasy">Fantasy</option>
                            <option value="Romance">Romance</option>
                            <option value="Science Fiction">Science Fiction</option>
                            <option value="Western">Western</option>
                            <option value="Inspirational">Inspirational</option>
                            <option value="Historical Fiction">Historical Fiction</option>
                            <option value="Horror">Horror</option>
                            <option value="Biography">Biography</option>
                            <option value="Drama">Drama</option>
                            <option value="Nonfiction">Nonfiction</option>
                            <option value="Poetry">Poetry</option>
                        </select>
                    </div>
                </div>    
            <!--Book Description-->
                <div class="row">
                    <div class="input-field col s12 m10 offset-m1 l8 offset-l2">
                        <textarea id="book_description" name="book_description" class="materialize-textarea validate" data-length="1000"
                        oninvalid="this.setCustomValidity('Enter Book Description. Only alphanumeric characters are accepted')"
                        oninput="this.setCustomValidity('')" minlength="9" maxlength="1000" required></textarea>
                        <label for="book_description">Book Description</label>
                    </div>
                </div>
            <!--Cover Image Link-->
                <div class="row">
                    <div class="input-field col s12 m10 offset-m1 l8 offset-l2">
                        <input id="book_cover" name="book_cover" type="text" class="validate count" pattern="(https?:\/\/.*(?:jpg|jpeg|gif|png))" data-length="400" maxlength="400"
                        oninvalid="this.setCustomValidity('URL must begin with http(s) and end with .jpg .jpeg .png or .gif')" oninput="this.setCustomValidity('')" required>
                        <label for="book_cover">Book Cover Image URL</label>
                        <span class="helper-text" data-error="wrong" data-success="right">If you need help, locate the Amazon page for the book, right click on the cover, and select "Copy Image Address"</span>
                    </div>
                </div>
            <!--Book URL-->
                <div class="row">
                    <div class="input-field col s12 m10 offset-m1 l8 offset-l2">
                        <input id="book_url" name="book_url" type="text" class="validate count" pattern="(https?:\/\/.*(?))" data-length="400" maxlength="400"
                        oninvalid="this.setCustomValidity('URL must begin with http(s)')" oninput="this.setCustomValidity('')" required>
                        <label for="book_url">Book URL</label>
                    </div>
                </div>
            <!--Submit Button-->
                <div class="row">
                    <button type="submit" class="col s8 offset-s2 btn-large pink darken-3 waves-effect waves-light btn">
                        Submit Book
                    </button>
                </div>  
            </div>
        </form>
    </div>
<!--Return to library-->
    <div class="row">
        <div class="card-panel green darken-3 s12 m8 offset-m2 l6 offset-l3">
            <p class="center-align white-text">
                Did you want to leave a review for a book instead? 
                <br>
                <a href="{{ url_for('library') }}" class="white-text pink darken-3 btn">Go back to the library!</a>
            </p>
        </div>
    </div>

{% endblock %}